{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rober\\\\Documents\\\\Kool_robert\\\\icd0009-2019s\\\\EXAM\\\\exam-react\\\\src\\\\components\\\\views\\\\persons\\\\TeacherIndex.tsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { BaseService } from \"../../../base/BaseService\";\nimport { AppContext } from \"../../../context/AppContext\";\n\nconst TeacherIndex = () => {\n  const [teachers, setTeachers] = useState({\n    items: [],\n    search: \"\",\n    copyItems: []\n  });\n  const appContext = useContext(AppContext);\n\n  const data = async () => await BaseService.getEntities('persons', appContext.jwt).then(data => setTeachers({ ...teachers,\n    items: data,\n    copyItems: data\n  }));\n\n  useEffect(() => {\n    data();\n  }, []);\n  useEffect(() => {}, [teachers.copyItems.length]);\n\n  function handleUpdate(target) {\n    setTeachers({ ...teachers,\n      [target.name]: target.value\n    });\n    console.log(teachers.search);\n  }\n\n  async function handleSearch() {\n    setTeachers({ ...teachers,\n      copyItems: teachers.items.filter(s => (s.firstName + s.lastName + s.email).toLowerCase().includes(teachers.search.toLowerCase()))\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingLeft: \"100px\",\n      paddingRight: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Teachers\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: teachers.search,\n    name: \"search\",\n    onChange: e => handleUpdate(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleSearch(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      paddingLeft: \"100px\"\n    },\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"Last name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, teachers.copyItems.map(t => /*#__PURE__*/React.createElement(\"tr\", {\n    key: t.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 29\n    }\n  }, t.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, t.firstName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, t.lastName))))));\n};\n\nexport default TeacherIndex;","map":{"version":3,"sources":["C:/Users/rober/Documents/Kool_robert/icd0009-2019s/EXAM/exam-react/src/components/views/persons/TeacherIndex.tsx"],"names":["React","useState","useEffect","useContext","BaseService","AppContext","TeacherIndex","teachers","setTeachers","items","search","copyItems","appContext","data","getEntities","jwt","then","length","handleUpdate","target","name","value","console","log","handleSearch","filter","s","firstName","lastName","email","toLowerCase","includes","paddingLeft","paddingRight","e","map","t","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { IUser } from \"../../../domain/IUser\";\r\nimport { BaseService } from \"../../../base/BaseService\";\r\nimport { AppContext } from \"../../../context/AppContext\";\r\n\r\ninterface IState {\r\n    items: IUser[];\r\n    search: string;\r\n    copyItems: IUser[];\r\n}\r\n\r\nconst TeacherIndex = () => {\r\n    const [teachers, setTeachers] = useState({items: [], search: \"\", copyItems: []} as IState);\r\n    const appContext = useContext(AppContext);\r\n    const data = async () => await BaseService\r\n        .getEntities<IUser>('persons', appContext.jwt!)\r\n        .then(data => setTeachers({...teachers, items: data, copyItems: data}));\r\n    \r\n\r\n    useEffect(() => {\r\n        data();\r\n    }, []);\r\n    \r\n\r\n    useEffect(() => {\r\n    }, [teachers.copyItems.length])\r\n\r\n    function handleUpdate(target: EventTarget & HTMLInputElement) {\r\n        setTeachers({...teachers, [target.name]: target.value})\r\n        console.log(teachers.search)\r\n    }\r\n\r\n     async function handleSearch() {\r\n        setTeachers({...teachers, copyItems: teachers.items.filter(s => (s.firstName + s.lastName + s.email).toLowerCase().includes(teachers.search.toLowerCase()))})\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{ paddingLeft: \"100px\", paddingRight: \"100px\" }}>\r\n            <h1>Teachers</h1>\r\n\r\n            <input type=\"text\" value={teachers.search} name=\"search\" onChange={(e) => handleUpdate(e.target)} />\r\n            <button onClick={() => handleSearch()} >Search</button>\r\n\r\n\r\n            <table style={{ paddingLeft: \"100px\" }} className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>\r\n                            Email\r\n        </th>\r\n                        <th>\r\n                            First name\r\n        </th>\r\n                        <th>\r\n                            Last name\r\n        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {teachers.copyItems.map(t => (\r\n\r\n                        <tr key={t.id}>\r\n                            <td>\r\n                                {t.email}\r\n                            </td>\r\n                            <td>\r\n                                {t.firstName}\r\n                            </td>\r\n                            <td>\r\n                                {t.lastName}\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TeacherIndex;"]},"metadata":{},"sourceType":"module"}