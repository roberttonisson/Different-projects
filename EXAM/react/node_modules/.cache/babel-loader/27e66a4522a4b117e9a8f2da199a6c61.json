{"ast":null,"code":"var _jsxFileName = \"D:\\\\icd0009-2019s\\\\Exam2019s\\\\exam-react\\\\src\\\\components\\\\views\\\\persons\\\\TeacherIndex.tsx\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { BaseCrudService } from \"../../../base/BaseCrudService\";\nimport { AppContext } from \"../../../context/AppContext\";\n\nconst TeacherIndex = () => {\n  const [teachers, setTeachers] = useState({\n    items: [],\n    search: \"\"\n  });\n  const appContext = useContext(AppContext);\n\n  const data = async () => await BaseCrudService.getEntities('persons', appContext.jwt).then(data => setTeachers({ ...teachers,\n    items: data\n  }));\n\n  let copyTeachers = [];\n  useEffect(() => {\n    data();\n    copyTeachers = Object.assign(teachers.items);\n    console.log(copyTeachers);\n  }, [teachers.items.length]);\n  useEffect(() => {\n    console.log('test');\n  }, [copyTeachers.length]);\n\n  function handleUpdate(target) {\n    setTeachers({ ...teachers,\n      [target.name]: target.value\n    });\n  }\n\n  async function handleSearch() {\n    /* await data().then(() => {\r\n        console.log(state.subjects)\r\n    }); */\n    setTeachers({ ...teachers,\n      items: teachers.items.filter(s => s.firstName.toLowerCase().includes(teachers.search.toLowerCase()))\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingLeft: \"100px\",\n      paddingRight: \"100px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, \"Teachers\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: teachers.search,\n    name: \"search\",\n    onChange: e => handleUpdate(e.target),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleSearch(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Search\"), /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      paddingLeft: \"100px\"\n    },\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 25\n    }\n  }, \"First name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"Last name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, copyTeachers.map(t => /*#__PURE__*/React.createElement(\"tr\", {\n    key: t.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, t.email), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, t.firstName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, t.lastName))))));\n};\n\nexport default TeacherIndex;","map":{"version":3,"sources":["D:/icd0009-2019s/Exam2019s/exam-react/src/components/views/persons/TeacherIndex.tsx"],"names":["React","useState","useEffect","useContext","BaseCrudService","AppContext","TeacherIndex","teachers","setTeachers","items","search","appContext","data","getEntities","jwt","then","copyTeachers","Object","assign","console","log","length","handleUpdate","target","name","value","handleSearch","filter","s","firstName","toLowerCase","includes","paddingLeft","paddingRight","e","map","t","id","email","lastName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { IUser } from \"../../../domain/IUser\";\r\nimport { BaseCrudService } from \"../../../base/BaseCrudService\";\r\nimport { AppContext } from \"../../../context/AppContext\";\r\n\r\ninterface IState {\r\n    items: IUser[];\r\n    search: string;\r\n}\r\n\r\nconst TeacherIndex = () => {\r\n    const [teachers, setTeachers] = useState({items: [], search: \"\"} as IState);\r\n    const appContext = useContext(AppContext);\r\n    const data = async () => await BaseCrudService\r\n        .getEntities<IUser>('persons', appContext.jwt!)\r\n        .then(data => setTeachers({...teachers, items: data}));\r\n\r\n    let copyTeachers: IUser[] = [];\r\n\r\n    useEffect(() => {\r\n        data();\r\n        copyTeachers = Object.assign(teachers.items);\r\n        console.log(copyTeachers)\r\n    }, [teachers.items.length]);\r\n\r\n    useEffect(() => {\r\n        console.log('test')\r\n    }, [copyTeachers.length])\r\n\r\n    function handleUpdate(target: EventTarget & HTMLInputElement) {\r\n        setTeachers({...teachers, [target.name]: target.value})\r\n    }\r\n\r\n     async function handleSearch() {\r\n        /* await data().then(() => {\r\n            console.log(state.subjects)\r\n        }); */\r\n        setTeachers({...teachers, items: teachers.items.filter(s => s.firstName.toLowerCase().includes(teachers.search.toLowerCase()))})\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{ paddingLeft: \"100px\", paddingRight: \"100px\" }}>\r\n            <h1>Teachers</h1>\r\n\r\n            <input type=\"text\" value={teachers.search} name=\"search\" onChange={(e) => handleUpdate(e.target)} />\r\n            <button onClick={() => handleSearch()} >Search</button>\r\n\r\n\r\n            <table style={{ paddingLeft: \"100px\" }} className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>\r\n                            Email\r\n        </th>\r\n                        <th>\r\n                            First name\r\n        </th>\r\n                        <th>\r\n                            Last name\r\n        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {copyTeachers.map(t => (\r\n\r\n                        <tr key={t.id}>\r\n                            <td>\r\n                                {t.email}\r\n                            </td>\r\n                            <td>\r\n                                {t.firstName}\r\n                            </td>\r\n                            <td>\r\n                                {t.lastName}\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TeacherIndex;"]},"metadata":{},"sourceType":"module"}